# ============================================
# إعدادات بيئة مكتبة كلية الهندسة - تم التعديل
# السيرفر: Ubuntu 24.04 (Noble)
# ============================================

# -------------------------------
# إعدادات التطبيق
# -------------------------------
NODE_ENV=production
APP_NAME="مكتبة كلية الهندسة - جامعة البحر الأحمر"
APP_VERSION=1.0.0
PORT=9000  # <--- تم التعديل: البورت الذي اخترته في السكربت و PM2
HOST=127.0.0.1  # التطبيق يعمل محلياً ويستقبل من Nginx أو NAT

# -------------------------------
# إعدادات قاعدة البيانات (متوافق مع MongoDB 7.0)
# -------------------------------
# تم التعديل: التأكد من استخدام 127.0.0.1 لضمان استقرار الاتصال المحلي
MONGODB_URI=mongodb://127.0.0.1:27017/engineering_library
MONGODB_URI_TEST=mongodb://127.0.0.1:27017/engineering_library_test

# -------------------------------
# إعدادات المصادقة
# -------------------------------
# ⚠️ SECURITY: Generate strong random secrets for production!
# Generate JWT_SECRET: openssl rand -base64 32
# Generate SESSION_SECRET: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_STRONG_RANDOM_SECRET_MIN_32_CHARS
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d
BCRYPT_SALT_ROUNDS=12

# حساب الروت - ⚠️ Change these in production!
ROOT_USERNAME=zero
ROOT_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# -------------------------------
# إعدادات الأمان والـ CORS
# -------------------------------
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=86400000
# CORS Origins (comma-separated list)
# Example: http://localhost:9000,http://192.168.1.100:9000
CORS_ORIGIN=http://localhost:9000
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Session Secret
# ⚠️ IMPORTANT: Generate a strong random secret for production!
# Use: openssl rand -base64 32
SESSION_SECRET=CHANGE_THIS_TO_STRONG_RANDOM_SECRET_MIN_32_CHARS_GENERATE_WITH_OPENSSL
SESSION_MAX_AGE=3600000
GUEST_SESSION_MAX_AGE=1800000

# -------------------------------
# إعدادات السيرفر والشبكة
# -------------------------------
# Web URL for email links and redirects
WEB_URL=http://localhost:9000

# Email Configuration (Optional - for password reset, notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@engineering-library.redseauniversity.edu
# EMAIL_FROM_NAME=مكتبة كلية الهندسة

# -------------------------------
# إعدادات الملفات والمسارات
# -------------------------------
# ⚠️ Use absolute path for production
UPLOAD_PATH=/var/www/engineering-library/server/uploads
MAX_FILE_SIZE=157286400
MAX_IMAGE_SIZE=3145728
ALLOWED_FILE_TYPES=pdf,doc,docx,ppt,pptx,xls,xlsx,txt,jpg,jpeg,png,gif,bmp,svg,zip,rar,7z,exe,mp4,avi,mov,wmv

# Backup Configuration
BACKUP_PATH=/var/backups/engineering-library
BACKUP_RETENTION_DAYS=30
BACKUP_MAX_COUNT=10

# -------------------------------
# إعدادات الوقت والمنطقة
# -------------------------------
TIMEZONE=Africa/Khartoum
DEFAULT_LANGUAGE=ar

# -------------------------------
# إعدادات المنتدى
# -------------------------------
FORUM_MAX_MESSAGE_LENGTH=2000
FORUM_MAX_IMAGES_PER_MESSAGE=5
FORUM_ALLOW_GUEST_VIEW=true
FORUM_ALLOW_GUEST_POST=false
FORUM_MODERATION_ENABLED=true

# -------------------------------
# إعدادات أخرى
# -------------------------------
PAGINATION_LIMIT=20
API_VERSION=v1
SUPPORT_EMAIL=support@engineering-library.redseauniversity.edu
SUPPORT_PHONE=+249123456789
